### 클로저에서 캡처된 값을 이동시키기와 `Fn` 트레이트

클로저가 참조를 캡처하거나 값을 클로저로 이동시킨 후, 함수의 본문에 있는 코드는 함수를 호출할 때 참조나 값에 어떤 일이 발생할지에 영향을 미칩니다. 클로저 본문은 캡처된 값을 클로저 밖으로 이동시킬 수 있고, 캡처된 값을 변경할 수 있으며, 값을 이동시키지도 변경하지도 않을 수 있고, 환경으로부터 아무것도 캡처하지 않을 수도 있습니다. 클로저가 환경으로부터 값을 캡처하고 처리하는 방식은 클로저가 어떤 트레이트를 구현하는지를 결정합니다. 이 트레이트들은 함수와 구조체가 사용할 수 있는 클로저의 종류를 지정하는 방식입니다.

클로저는 자동적으로 아래의 `Fn` 트레이트 중 하나, 두 개 또는 세 개 모두를 점진적으로 구현합니다:

1.  `FnOnce`는 최소한 한 번 호출할 수 있는 클로저에 적용됩니다. 모든 클로저는 호출할 수 있기 때문에 이 트레이트를 구현합니다. 만약 클로저가 캡처된 값을 본문 밖으로 이동시키면, 그 클로저는 다른 `Fn` 트레이트를 구현하지 않고 `FnOnce`만 구현합니다. 왜냐하면 이 경우 그 클로저는 한 번만 호출될 수 있기 때문입니다.

2.  `FnMut`는 캡처된 값을 본문 밖으로 이동시키지 않지만, 캡처된 값을 변경할 수 있는 클로저에 적용됩니다. 이러한 클로저는 여러 번 호출될 수 있습니다.

3.  `Fn`은 캡처된 값을 본문 밖으로 이동시키지도, 캡처된 값을 변경하지도 않는 클로저에 적용됩니다. 이러한 클로저는 환경을 변경하지 않고 여러 번 호출될 수 있으며, 이는 클로저를 동시에 여러 번 호출해야 하는 경우에 중요합니다. 예를 들어, 클로저가 환경으로부터 아무 것도 캡처하지 않으면 `Fn`을 구현합니다.